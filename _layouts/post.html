---
layout: default
---

<article class="container post-article">
  <header>
    <h1>{{ page.title }}</h1>
    {% if page.image %}
      <p><img src="{{ page.image }}" alt="{{ page.title }}" loading="lazy" style="width:100%;border-radius:8px;margin:12px 0;"/></p>
    {% endif %}
    <p class="meta muted small">{{ page.date | date: "%B %d, %Y" }}{% if page.categories %} ‚Ä¢ {{ page.categories | join: ", " }}{% endif %}</p>
  </header>

  <!-- Table of Contents -->
  <div id="toc">
    <h3>üìò Table of Contents</h3>
    <ul id="tocList"></ul>
  </div>

  <section class="post-content">
    {{ content }}
  </section>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.getElementById('tocList');
    if(!toc) return;
    document.querySelectorAll('.post-content h2, .post-content h3').forEach(h => {
      const id = h.innerText.replace(/[^a-z0-9\s-]/ig,'').replace(/\s+/g, '-').toLowerCase();
      if(!h.id) h.id = id;
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.textContent = h.innerText;
      li.appendChild(a);
      toc.appendChild(li);
    });
  });
  </script>
  <hr>

  <div class="post-pagination" style="display:flex; justify-content: space-between; margin-top:20px;">

    {% if page.previous %}
      <div class="prev-post"><a href="{{ page.previous.url | relative_url }}">‚¨ÖÔ∏è Previous: {{ page.previous.title }}</a></div>
    {% else %}
      <div></div>
    {% endif %}

    {% if page.next %}
      <div class="next-post"><a href="{{ page.next.url | relative_url }}">Next: {{ page.next.title }} ‚û°Ô∏è</a></div>
    {% endif %}

  </div>

  <div class="share" style="margin-top:18px;">
    <h4>Share this post:</h4>
    <a class="share-link" target="_blank" rel="noopener" aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ site.url }}{{ page.url }}">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 5.92c-.66.29-1.37.49-2.11.58.76-.45 1.34-1.16 1.61-2.01-.71.42-1.5.73-2.34.9C18.6 4 17.35 3.5 16 3.5c-2.07 0-3.75 1.67-3.75 3.73 0 .29.03.56.09.83C9.09 7.76 6.2 6.32 4.09 4.03c-.32.55-.5 1.18-.5 1.86 0 1.28.65 2.41 1.64 3.07-.6-.02-1.16-.18-1.66-.46v.05c0 1.8 1.26 3.3 2.93 3.64-.31.08-.64.12-.98.12-.24 0-.48-.02-.71-.07.48 1.5 1.88 2.6 3.54 2.63C6.9 18.6 5.08 19.3 3.12 19.3c-.2 0-.4 0-.6-.02 1.16.76 2.54 1.2 4.03 1.2 4.83 0 7.48-4.03 7.48-7.52v-.34c.51-.37.96-.82 1.31-1.34-.46.2-.96.32-1.47.38.53-.34.94-.86 1.14-1.49z"/></svg>
    </a>
    <a class="share-link" target="_blank" rel="noopener" aria-label="Share on LinkedIn" href="https://www.linkedin.com/sharing/share-offsite/?url={{ site.url }}{{ page.url }}">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.08 1 2.48 1 4.98 2.12 4.98 3.5zM0 8h5v16H0zM8 8h4.8v2.4h.07c.67-1.27 2.3-2.6 4.73-2.6C22.38 7.8 24 10.34 24 14.4V24h-5v-8.16c0-1.94-.04-4.44-2.71-4.44-2.71 0-3.13 2.12-3.13 4.3V24H8z"/></svg>
    </a>
    <a class="share-link" target="_blank" rel="noopener" aria-label="Share on Reddit" href="https://reddit.com/submit?url={{ site.url }}{{ page.url }}&title={{ page.title | uri_escape }}">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M24 12c0-6.63-5.37-12-12-12S0 5.37 0 12c0 5.3 3.44 9.78 8.21 11.29-.11-.96-.21-2.44.04-3.49.23-.99 1.49-6.34 1.49-6.34s-.38-.76-.38-1.88c0-1.76 1.02-3.08 2.3-3.08 1.08 0 1.6.81 1.6 1.78 0 1.08-.69 2.7-1.04 4.2-.3 1.26.64 2.29 1.9 2.29 2.28 0 4.04-2.4 4.04-5.85 0-3.06-2.2-5.2-5.35-5.2-3.64 0-5.79 2.73-5.79 5.56 0 1.1.42 1.86.93 2.45.1.12.12.22.09.34-.09.38-.29 1.2-.33 1.37-.05.22-.18.27-.41.16-1.53-.71-2.48-2.94-2.48-4.73 0-3.85 2.8-7.38 8.07-7.38 4.24 0 7.53 3.03 7.53 7.07 0 4.22-2.66 7.61-6.36 7.61-1.24 0-2.41-.64-2.81-1.38 0 0-.6 2.27-.73 2.74-.26.92-.77 2.07-1.14 2.85C18.81 23.6 24 18.1 24 12z"/></svg>
    </a>
  </div>

  <!-- Comments: lazy-load + dark-mode auto-switch -->
  <div id="comments" aria-live="polite" style="margin-top:28px;">
    <div id="giscus_container" aria-hidden="true"></div>
    <div style="margin-top:12px;">
      <button id="load-comments-btn" class="nav-cta" aria-controls="giscus_container">Load comments</button>
    </div>
  </div>

  <script>
  (function(){
    // Giscus configuration (from provided values)
    const GISCUS = {
      repo: 'GeoAziz/GeoAziz.github.io',
      repoId: 'R_kgDOLYp4VQ',
      category: 'General',
      categoryId: 'DIC_kwDOLYp4Vc4Cf5Ra',
      mapping: 'pathname',
      inputPosition: 'bottom'
    };

    const container = document.getElementById('giscus_container');
    const btn = document.getElementById('load-comments-btn');

    function getPreferredTheme(){
      try{
        return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }catch(e){ return 'light'; }
    }

    function injectGiscus(){
      if(!container || container.dataset.loaded) return;
      const s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.async = true;
      s.crossOrigin = 'anonymous';
      s.id = 'giscus-script';
      s.setAttribute('data-repo', GISCUS.repo);
      if(GISCUS.repoId) s.setAttribute('data-repo-id', GISCUS.repoId);
      if(GISCUS.category) s.setAttribute('data-category', GISCUS.category);
      if(GISCUS.categoryId) s.setAttribute('data-category-id', GISCUS.categoryId);
      s.setAttribute('data-mapping', GISCUS.mapping);
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', GISCUS.inputPosition || 'bottom');
      s.setAttribute('data-theme', getPreferredTheme());
      s.setAttribute('data-lang', 'en');
      container.appendChild(s);
      container.dataset.loaded = '1';
      container.setAttribute('aria-hidden', 'false');
      if(btn) btn.style.display = 'none';
    }

    // Lazy-load by click
    if(btn){
      btn.addEventListener('click', function(){ injectGiscus(); });
    }

    // Lazy-load when the comments container is near the viewport
    try{
      const obs = new IntersectionObserver(function(entries, observer){
        entries.forEach(function(entry){
          if(entry.isIntersecting){ injectGiscus(); observer.disconnect(); }
        });
      }, {rootMargin: '300px'});
      obs.observe(container);
    }catch(e){ /* IntersectionObserver not supported */ }

    // Update Giscus theme dynamically when system theme changes
    if(window.matchMedia){
      const mq = window.matchMedia('(prefers-color-scheme: dark)');
      mq.addEventListener && mq.addEventListener('change', function(e){
        const theme = e.matches ? 'dark' : 'light';
        // If giscus iframe exists, send postMessage to update theme
        const iframe = container.querySelector('iframe');
        if(iframe && iframe.contentWindow){
          iframe.contentWindow.postMessage({giscus: {setConfig: {theme: theme}}}, 'https://giscus.app');
        } else if(container.dataset.loaded){
          // fallback: reload widget with new theme
          const script = document.getElementById('giscus-script');
          if(script){ script.remove(); container.dataset.loaded = ''; injectGiscus(); }
        }
      });
    }
  })();
  </script>
